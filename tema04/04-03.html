<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protocolo SSH en Java</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div>Protocolo SSH en Java</div>
    </header>

    <section class="contenido-didactico">
        <h1>Protocolo SSH en Java</h1>

        <p>SSH (<strong>Secure Shell</strong>) es un protocolo de red criptográfico que permite la operación segura de servicios de red sobre una red no segura. Proporciona un canal seguro sobre una red no segura en una arquitectura cliente-servidor.</p>

        <h2>Historia y Evolución</h2>
        <ul>
            <li><strong>1995:</strong> SSH-1 creado por Tatu Ylönen</li>
            <li><strong>1996:</strong> Comercialización y creación de SSH Communications Security</li>
            <li><strong>2006:</strong> SSH-2 se convierte en estándar (RFC 4251-4256)</li>
        </ul>

        <h2>Características Principales</h2>
        <ul>
            <li><strong>Puerto por defecto:</strong> 22</li>
            <li><strong>Autenticación fuerte</strong></li>
            <li><strong>Cifrado de datos</strong></li>
            <li><strong>Integridad de datos</strong></li>
            <li><strong>Túnel de reenvío (Port Forwarding)</strong></li>
            <li><strong>Compresión de datos</strong></li>
        </ul>

        <h2>Seguridad y Criptografía</h2>

        <h3>1. Cifrado</h3>
        <ul>
            <li>AES (128-bit y 256-bit)</li>
            <li>Blowfish</li>
            <li>3DES</li>
            <li>ChaCha20</li>
        </ul>

        <h3>2. Intercambio de Claves</h3>
        <ul>
            <li>Diffie-Hellman</li>
            <li>ECDH (Elliptic Curve Diffie-Hellman)</li>
            <li>RSA</li>
        </ul>

        <h3>3. Integridad</h3>
        <ul>
            <li>HMAC-SHA1</li>
            <li>HMAC-SHA2-256</li>
            <li>HMAC-SHA2-512</li>
        </ul>

        <h2>Implementación en Java con JSch</h2>
        <p>A continuación se muestra un ejemplo de implementación básica de un cliente SSH en Java utilizando la librería JSch. Puedes copiar el código con el botón superior.</p>

<pre><code class="language-java">import com.jcraft.jsch.*;

public class SSHClient {
    private JSch jsch;
    private Session session;
    
    public void connect(String host, String user, String password) {
        try {
            jsch = new JSch();
            session = jsch.getSession(user, host, 22);
            session.setPassword(password);
            
            // Configuración
            Properties config = new Properties();
            config.put("StrictHostKeyChecking", "no");
            session.setConfig(config);
            
            // Conectar
            session.connect();
            
        } catch (JSchException e) {
            e.printStackTrace();
        }
    }
    
    public void executeCommand(String command) {
        try {
            Channel channel = session.openChannel("exec");
            ((ChannelExec) channel).setCommand(command);
            
            channel.setInputStream(null);
            ((ChannelExec) channel).setErrStream(System.err);
            
            InputStream in = channel.getInputStream();
            channel.connect();
            
            byte[] tmp = new byte[1024];
            while (true) {
                while (in.available() > 0) {
                    int i = in.read(tmp, 0, 1024);
                    if (i < 0) break;
                    System.out.print(new String(tmp, 0, i));
                }
                if (channel.isClosed()) {
                    break;
                }
                Thread.sleep(100);
            }
            
            channel.disconnect();
            
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}</code></pre>

        <h2>Modos de Uso Común</h2>

        <h3>1. Shell Remoto Seguro</h3>
<pre><code class="language-java">Channel channel = session.openChannel("shell");
channel.connect();</code></pre>

        <h3>2. Transferencia de Archivos (SFTP)</h3>
<pre><code class="language-java">ChannelSftp sftpChannel = (ChannelSftp) session.openChannel("sftp");
sftpChannel.connect();
sftpChannel.put(localFile, remoteFile);</code></pre>

        <h3>3. Port Forwarding</h3>
<pre><code class="language-java">session.setPortForwardingL(localPort, remoteHost, remotePort);</code></pre>

        <h2>Autenticación</h2>

        <h3>1. Por Contraseña</h3>
<pre><code class="language-java">session.setPassword(password);</code></pre>

        <h3>2. Por Clave Pública</h3>
<pre><code class="language-java">jsch.addIdentity(privateKeyPath);</code></pre>

        <h2>Mejores Prácticas de Seguridad</h2>
        <ul>
            <li>Usar siempre la última versión de SSH-2</li>
            <li>Implementar autenticación de dos factores cuando sea posible</li>
            <li>Limitar los intentos de inicio de sesión</li>
            <li>Usar claves SSH en lugar de contraseñas</li>
            <li>Mantener las claves privadas seguras</li>
            <li>Actualizar regularmente los algoritmos criptográficos</li>
        </ul>

        <h2>Ventajas sobre Otros Protocolos</h2>

        <h3>Ventajas sobre Telnet</h3>
        <ul>
            <li>Comunicación cifrada</li>
            <li>Autenticación segura</li>
            <li>Integridad de datos</li>
            <li>Túneles seguros</li>
        </ul>

        <h3>Ventajas sobre FTP</h3>
        <ul>
            <li>Canal único seguro</li>
            <li>Mejor manejo de firewalls</li>
            <li>Transferencias cifradas</li>
            <li>Más funcionalidades</li>
        </ul>

        <h2>Ejemplos de Uso Común</h2>
<pre><code class="language-java">// Ejemplo de conexión básica
SSHClient ssh = new SSHClient();
ssh.connect("servidor.ejemplo.com", "usuario", "contraseña");

// Ejecutar comando remoto
ssh.executeCommand("ls -la");

// Transferir archivo
ssh.executeCommand("scp archivo.txt usuario@servidor:/ruta/destino");

// Túnel SSH
ssh.executeCommand("ssh -L 8080:localhost:80 usuario@servidor");</code></pre>

        <h2>Solución de Problemas Comunes</h2>
        
        <h3>Problemas de conexión</h3>
        <ul>
            <li>Verificar firewall</li>
            <li>Comprobar puerto 22</li>
            <li>Verificar claves SSH</li>
        </ul>

        <h3>Problemas de autenticación</h3>
        <ul>
            <li>Verificar permisos de archivos de claves</li>
            <li>Comprobar formato de claves</li>
            <li>Verificar usuario y contraseña</li>
        </ul>

        <h2>Dependencias Maven</h2>
        <p>Para utilizar SSH en Java con JSch, necesitas incluir la siguiente dependencia en tu archivo <code>pom.xml</code>:</p>

<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;
    &lt;artifactId&gt;jsch&lt;/artifactId&gt;
    &lt;version&gt;0.1.55&lt;/version&gt;
&lt;/dependency&gt;</code></pre>

        <p>Si prefieres usar <strong>Apache MINA SSHD</strong> (una alternativa moderna a JSch), puedes usar estas dependencias:</p>

<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.sshd&lt;/groupId&gt;
    &lt;artifactId&gt;sshd-core&lt;/artifactId&gt;
    &lt;version&gt;2.10.0&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
    &lt;groupId&gt;org.apache.sshd&lt;/groupId&gt;
    &lt;artifactId&gt;sshd-sftp&lt;/artifactId&gt;
    &lt;version&gt;2.10.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>

        <h3>Dependencias Opcionales</h3>
        <p>Para características adicionales como logging y manejo de claves:</p>

<pre><code class="language-xml">&lt;!-- Para logging --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
    &lt;version&gt;1.7.36&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- Para soporte de claves ED25519 --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;net.i2p.crypto&lt;/groupId&gt;
    &lt;artifactId&gt;eddsa&lt;/artifactId&gt;
    &lt;version&gt;0.3.0&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- Para soporte de Bouncy Castle (criptografía adicional) --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;
    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;
    &lt;version&gt;1.70&lt;/version&gt;
&lt;/dependency&gt;</code></pre>

        <h2>Notas sobre las Dependencias</h2>
        
        <h3>JSch vs MINA SSHD</h3>
        <ul>
            <li>JSch es más antiguo y ampliamente utilizado</li>
            <li>MINA SSHD es más moderno y activamente mantenido</li>
            <li>MINA SSHD tiene mejor soporte para características modernas</li>
        </ul>

        <h3>Versiones</h3>
        <ul>
            <li>Siempre verifica las últimas versiones estables</li>
            <li>Considera la compatibilidad con tu versión de Java</li>
            <li>Revisa las notas de cambios para características nuevas</li>
        </ul>

        <h3>Dependencias Opcionales</h3>
        <ul>
            <li>Incluye solo las que necesites para tu caso de uso</li>
            <li>El logging es recomendado para desarrollo/debugging</li>
            <li>Las dependencias criptográficas son necesarias para algunos algoritmos específicos</li>
        </ul>

    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="script.js"></script>
</body>
</html>