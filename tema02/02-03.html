<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programación de Hilos en Java - Clase Thread</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/vs2015.min.css">

</head>

<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">Programación de Hilos en Java</div>
        </div>
    </header>
    <div class="container">
        <main>
            <div class="content-header">
                <h1 class="content-title">2.3. La Clase Thread</h1>
            </div>
            <section class="lesson-section">
                <h2 class="section-title">Métodos Principales de la Clase Thread</h2>
                <div class="text-content">
                    <p>La clase <code>Thread</code> proporciona la funcionalidad esencial para la creación, ejecución y
                        gestión de hilos. El siguiente cuadro resume los principales métodos de esta clase.</p>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Método</th>
                            <th>Funcionalidad</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>void run()</td>
                            <td>Se ejecuta cuando se lanza el hilo. Es el punto de entrada del hilo, como el método
                                main() es el punto de entrada del proceso.</td>
                        </tr>
                        <tr>
                            <td>void start()</td>
                            <td>Lanza el hilo. La JVM crea el hilo y ejecuta su método run().</td>
                        </tr>
                        <tr>
                            <td>static void sleep(long ms)</td>
                            <td>Detiene la ejecución del hilo actualmente en ejecución durante un tiempo, que se puede
                                indicar en microsegundos.</td>
                        </tr>
                        <tr>
                            <td>static void sleep(long ms, long ns)</td>
                            <td>Detiene la ejecución del hilo actual durante un tiempo indicado en microsegundos y
                                nanosegundos.</td>
                        </tr>
                        <tr>
                            <td>void join()</td>
                            <td>Espera a que termine el hilo. Se puede indicar un tiempo máximo de espera.</td>
                        </tr>
                        <tr>
                            <td>void join(long ms)</td>
                            <td>Espera a que termine el hilo durante el tiempo indicado en milisegundos.</td>
                        </tr>
                        <tr>
                            <td>void join(long ms, long ns)</td>
                            <td>Espera a que termine el hilo durante un tiempo indicado en milisegundos y nanosegundos.
                            </td>
                        </tr>
                        <tr>
                            <td>void interrupt()</td>
                            <td>Interrumpe la ejecución de un hilo.</td>
                        </tr>
                        <tr>
                            <td>boolean isInterrupted()</td>
                            <td>Verifica si ha interrumpido la ejecución.</td>
                        </tr>
                        <tr>
                            <td>static boolean interrupted()</td>
                            <td>Verifica si se ha interrumpido la ejecución del hilo actual, y borra el estado de
                                interrupción.</td>
                        </tr>
                        <tr>
                            <td>boolean isAlive()</td>
                            <td>Comprueba si el hilo está vivo. Un hilo está vivo cuando se ha iniciado y no ha
                                terminado su ejecución.</td>
                        </tr>
                        <tr>
                            <td>int getPriority()</td>
                            <td>Obtiene la prioridad de un hilo.</td>
                        </tr>
                        <tr>
                            <td>void setPriority(int nuevaPrior)</td>
                            <td>Establece la prioridad de un hilo.</td>
                        </tr>
                        <tr>
                            <td>static Thread currentThread()</td>
                            <td>Devuelve un objeto de clase Thread correspondiente al hilo en ejecución actualmente.
                            </td>
                        </tr>
                        <tr>
                            <td>long getId()</td>
                            <td>Devuelve el identificador del hilo.</td>
                        </tr>
                        <tr>
                            <td>String getName()</td>
                            <td>Recupera el nombre del hilo.</td>
                        </tr>
                        <tr>
                            <td>void setName(String nombre)</td>
                            <td>Asigna un nombre al hilo.</td>
                        </tr>
                        <tr>
                            <td>Thread.State getState()</td>
                            <td>Devuelve el estado del hilo.</td>
                        </tr>
                        <tr>
                            <td>boolean isDaemon()</td>
                            <td>Verifica si el hilo es de tipo daemon.</td>
                        </tr>
                        <tr>
                            <td>void setDaemon(boolean on)</td>
                            <td>Configura si el hilo debe ser daemon o no.</td>
                        </tr>
                    </tbody>
                </table>

                <div class="text-content">
                    <p><strong>Nota sobre hilos daemon:</strong> Un hilo puede ser de tipo daemon. La distinción es
                        importante, porque la JVM termina su ejecución cuando no queda ningún hilo activo o cuando solo
                        quedan hilos de tipo daemon.</p>
                </div>
            </section>
            <section class="lesson-section">
                <h2 class="section-title">Programa con Pausas y Esperas</h2>
                <div class="text-content">
                    <p>El siguiente programa lanza dos hilos. Cada uno de ellos hace pausas de duración aleatoria de
                        entre 10 y 500 ms, utilizando el método <code>sleep</code> de la clase <code>Thread</code>. El
                        hilo principal utiliza el método <code>join</code> para esperar a que terminen los dos hilos
                        lanzados, por lo que siempre terminará el último.</p>

                    <p>Los métodos <code>sleep</code> y <code>join</code> paran la ejecución del hilo, y durante este
                        periodo de tiempo se podría interrumpir. Si esto sucede, se lanzará una
                        <code>InterruptedException</code>, que se captura para mostrar un mensaje.</p>
                </div>

                <div class="code-container">
                    <div class="code-header"><span>Ejemplo: LanzaHilosYAEsperarQueTerminen.java</span><span
                            class="language-badge">java</span></div>
                    <div class="code-content">
                        <button class="copy-button">Copiar</button>
                        <pre><code>import java.util.Random;

class Hilo implements Runnable {
  private final String nombre;

  Hilo(String nombre) {
    this.nombre = nombre;
  }

  @Override
  public void run() {
    System.out.printf("Hola, soy el hilo: %s.\n", this.nombre);
    Random r = new Random();
    for (int i = 0; i < 5; i++) {
      int pausa = 10 + r.nextInt(500 - 10);
      System.out.printf("Hilo: %s hace pausa de %d ms.\n", 
                        this.nombre, pausa);
      try {
        Thread.sleep(pausa);
      } catch (InterruptedException e) {
        System.out.println("Hilo " + this.nombre + " interrumpido.");
      }
    }
    System.out.printf("Hilo %s terminado.\n", this.nombre);
  }
}

public class LanzaHilosYAEsperarQueTerminen {
  public static void main(String[] args) {
    Thread h1 = new Thread(new Hilo("H1"));
    Thread h2 = new Thread(new Hilo("H2"));
    h1.start();
    h2.start();
    try {
      h1.join();
      h2.join();
    } catch (InterruptedException e) {
      System.out.println("Hilo principal interrumpido.");
    }
    System.out.println("Hilo principal terminado.");
  }
}</code></pre>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="js/main.js"></script>
</body>

</html>